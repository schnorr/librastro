librastro README file
=====================

1 - Application Instrumentation

The application to be traced must be instrumented with functions that
start with rst_event_. All events are timestamped according to the local
timestamp of the machine in the moment the tracing function is executed.
New functions can be created arbitraly by a librastro script, so the user
is not limited by existing functions. A rst_event_ function is on the
following form:

rst_event_X where a X can be one or a combination of:
  c - 8 bits
  w - 16 bits
  i - 32 bits
  l - 64 bits
  f - float
  d - double
  s - string

The size of each event is unlimited, so users can
provide as many parameters as desired. Example:
  rst_event_iicilf(...)
  rst_event_siicicffll(...)

2 - Instrumentation Functions Generation

librastro has a script to automatically implement functions defined by the
user and that are not present in the library. For that, the user has to create
a textual file with one combination of X (as described above) per line. This
file is the passed to the rastro_generate tool that implements the corresponding
functions in a source/header file. Here's a basic usage of this script:

$ cat used_functions.txt
ii
fl
ds
$ rastro_generate used_functions.txt my_functions.c my_functions.h

3 - Compiling generated functions and librastro linking

The user has to add to the compilation chain the files created by
rastro_generate. Then, link the final binary to the librastro library
using -lrastro as parameter to the linker.
